language: node_js # Building with node js
node_js:
    - stable # Download the stable node version

# Blocklist
branches:
    except:
      - gh-pages # will be deployed to, no need to build it

script:
    - npm run build # Generates the dist folder with built angular app

deploy:
    provider: azure_web_apps
    username: rojesh\$rojesh
    password: PJ20iPiNazw5XRXm1oii2xcXaP8RAeuBbnY0gJaMPzp9HtasnAhtjsPsJA1X
    site: ftps://waws-prod-dm1-085.ftp.azurewebsites.windows.net/site/wwwroot

    skip_cleanup: true # Prevent travis from cleaning out the branch before the deploy occurs
    
    on:
        branch: master # Build only from master
    local_dir: dist # 